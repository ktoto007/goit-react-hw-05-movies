"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[134],{373:function(e,t,n){var r=n(689),a=n(87),c=n(184);t.Z=function(e){var t=e.movies,n=(0,r.TH)();return(0,c.jsx)("ul",{children:t.map((function(e){return(0,c.jsx)("li",{children:(0,c.jsx)(a.rU,{to:"/movies/".concat(e.id),state:{from:n},children:e.original_title})},e.id)}))})}},134:function(e,t,n){n.r(t);var r=n(861),a=n(439),c=n(757),u=n.n(c),o=n(373),s=n(791),i=n(87),f=n(565),p=n(184);t.default=function(){var e,t=(0,s.useState)([]),n=(0,a.Z)(t,2),c=n[0],h=n[1],v=(0,i.lr)(""),l=(0,a.Z)(v,2),y=l[0],g=l[1],d=null!==(e=y.get("query"))&&void 0!==e?e:"";(0,s.useEffect)((function(){function e(){return e=(0,r.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f.E.query=d,e.next=3,f.E.fetchMovieByQuery();case 3:t=e.sent,h(t.results);case 5:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}d&&function(){e.apply(this,arguments)}()}),[d]);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""===e.target.name.value)return g({}),void h([]);g({query:e.target.name.value})},children:[(0,p.jsx)("input",{type:"text",name:"name",defaultValue:null!==d&&void 0!==d?d:""}),(0,p.jsx)("button",{type:"submit",children:"Search"})]}),(0,p.jsx)(o.Z,{movies:c})]})}},565:function(e,t,n){n.d(t,{E:function(){return p}});var r=n(861),a=n(671),c=n(144),u=n(757),o=n.n(u),s="https://api.themoviedb.org/3/",i="aa05d9ef1feff0e96ac321d8773a5c67",f=function(){function e(){(0,a.Z)(this,e),this.searchQuery="",this.page=1}return(0,c.Z)(e,[{key:"getPopularMovies",value:function(){var e=(0,r.Z)(o().mark((function e(){var t,n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(s,"trending/movie/day?api_key=").concat(i,"&page=").concat(this.page));case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,r=n,e.abrupt("return",r);case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"fetchMovieByQuery",value:function(){var e=(0,r.Z)(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(s,"search/movie?api_key=").concat(i,"&query=").concat(this.searchQuery,"&page=").concat(this.page));case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getMoviesDetails",value:function(){var e=(0,r.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(s,"movie/").concat(t,"?api_key=").concat(i,"&language=").concat(this.lang));case 3:if((n=e.sent).ok){e.next=6;break}throw new Error("error");case 6:return e.next=8,n.json();case 8:return r=e.sent,e.abrupt("return",r);case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getMoviesCredits",value:function(){var e=(0,r.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(s,"movie/").concat(t,"/credits?api_key=").concat(i,"&language=").concat(this.lang));case 3:if((n=e.sent).ok){e.next=6;break}throw new Error("error");case 6:return e.next=8,n.json();case 8:return r=e.sent,e.abrupt("return",r);case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getMoviesRewiews",value:function(){var e=(0,r.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(s,"movie/").concat(t,"/reviews?api_key=").concat(i,"&language=").concat(this.lang));case 3:if((n=e.sent).ok){e.next=6;break}throw new Error("error");case 6:return e.next=8,n.json();case 8:return r=e.sent,e.abrupt("return",r);case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"query",get:function(){return this.searchQuery},set:function(e){this.searchQuery=e}},{key:"pages",get:function(){return this.page},set:function(e){this.page=e}}]),e}(),p=new f},861:function(e,t,n){function r(e,t,n,r,a,c,u){try{var o=e[c](u),s=o.value}catch(i){return void n(i)}o.done?t(s):Promise.resolve(s).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,c){var u=e.apply(t,n);function o(e){r(u,a,c,o,s,"next",e)}function s(e){r(u,a,c,o,s,"throw",e)}o(void 0)}))}}n.d(t,{Z:function(){return a}})}}]);
//# sourceMappingURL=134.3b20d5f6.chunk.js.map