"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[782],{782:function(e,t,n){n.r(t);var r=n(861),c=n(439),a=n(757),s=n.n(a),i=n(791),o=n(689),u=n(87),h=n(565),p=n(184);t.default=function(){var e,t,n=(0,i.useState)(null),a=(0,c.Z)(n,2),f=a[0],v=a[1],l=(0,o.UO)().movieId,d=(0,o.TH)(),x=(0,i.useRef)(null!==(e=null===(t=d.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/");if((0,i.useEffect)((function(){function e(){return(e=(0,r.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.E.getMoviesDetails(l);case 2:t=e.sent,v(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[l]),f)return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(u.rU,{to:x.current,children:"Go back"}),(0,p.jsxs)("div",{children:[(0,p.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(f.poster_path),alt:""}),(0,p.jsxs)("div",{children:[(0,p.jsx)("h1",{children:f.title}),(0,p.jsx)("p",{children:f.vote_average}),(0,p.jsx)("h2",{children:"Overvie"}),(0,p.jsx)("p",{children:f.overview}),(0,p.jsx)("h2",{children:"Genres"}),(0,p.jsx)("p",{children:f.genres.map((function(e){return"".concat(e.name," ")}))})]})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{}),(0,p.jsxs)("ul",{children:[(0,p.jsx)("li",{children:(0,p.jsx)(u.rU,{to:"cast",children:"Cast"})}),(0,p.jsx)("li",{children:(0,p.jsx)(u.rU,{to:"reviews",children:"Reviews"})})]})]}),(0,p.jsx)(i.Suspense,{fallback:(0,p.jsx)("div",{children:"Loading..."}),children:(0,p.jsx)(o.j3,{})})]})}},565:function(e,t,n){n.d(t,{E:function(){return p}});var r=n(861),c=n(671),a=n(144),s=n(757),i=n.n(s),o="https://api.themoviedb.org/3/",u="aa05d9ef1feff0e96ac321d8773a5c67",h=function(){function e(){(0,c.Z)(this,e),this.searchQuery="",this.page=1}return(0,a.Z)(e,[{key:"getPopularMovies",value:function(){var e=(0,r.Z)(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(o,"trending/movie/day?api_key=").concat(u,"&page=").concat(this.page));case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,r=n,e.abrupt("return",r);case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"fetchMovieByQuery",value:function(){var e=(0,r.Z)(i().mark((function e(){var t,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(o,"search/movie?api_key=").concat(u,"&query=").concat(this.searchQuery,"&page=").concat(this.page));case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getMoviesDetails",value:function(){var e=(0,r.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(o,"movie/").concat(t,"?api_key=").concat(u,"&language=").concat(this.lang));case 3:if((n=e.sent).ok){e.next=6;break}throw new Error("error");case 6:return e.next=8,n.json();case 8:return r=e.sent,e.abrupt("return",r);case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getMoviesCredits",value:function(){var e=(0,r.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(o,"movie/").concat(t,"/credits?api_key=").concat(u,"&language=").concat(this.lang));case 3:if((n=e.sent).ok){e.next=6;break}throw new Error("error");case 6:return e.next=8,n.json();case 8:return r=e.sent,e.abrupt("return",r);case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getMoviesRewiews",value:function(){var e=(0,r.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(o,"movie/").concat(t,"/reviews?api_key=").concat(u,"&language=").concat(this.lang));case 3:if((n=e.sent).ok){e.next=6;break}throw new Error("error");case 6:return e.next=8,n.json();case 8:return r=e.sent,e.abrupt("return",r);case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"query",get:function(){return this.searchQuery},set:function(e){this.searchQuery=e}},{key:"pages",get:function(){return this.page},set:function(e){this.page=e}}]),e}(),p=new h},861:function(e,t,n){function r(e,t,n,r,c,a,s){try{var i=e[a](s),o=i.value}catch(u){return void n(u)}i.done?t(o):Promise.resolve(o).then(r,c)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(c,a){var s=e.apply(t,n);function i(e){r(s,c,a,i,o,"next",e)}function o(e){r(s,c,a,i,o,"throw",e)}i(void 0)}))}}n.d(t,{Z:function(){return c}})}}]);
//# sourceMappingURL=782.9bee73f4.chunk.js.map